<?xml version="1.0" encoding="UTF-8"?>
<document>
  <simulation log="DEBUG" outputfolder="../results" name="mySim">
	<timer stepSize="1.0" endOfSimulation="50.0" />

<speciesLib>
	<!-- species/species library The species library contains all agent species 
		in the simulations. This may include microbial species, plasmid and vector 
		species, particle species etc. Species states are states that are in principal 
		identical for all agents of that species. However note that iDynoMiCS 2.0 
		does allow you to overwrite states on agent level. Thus if a state is defined 
		both on species level and on agent level, the agent state will be used in 
		the simulation. small test -->
	<species name="Pathogen">
	   <aspect name="reactions" type="PRIMARY" class="LinkedList" >		
            <item type="PRIMARY" class="Reaction">				
				<reaction name="substrateReact">
					<expression value="mass * glucose *k1 ">
						<constant name="k1" value="0.1" />
					</expression>
					<stoichiometric component="Pathogen" coefficient="1.0" />
					<stoichiometric component="glucose" coefficient="-1.0" />							
				</reaction>				
			</item>		
		</aspect>	
</species>
</speciesLib>

		<compartment name="chemostat">
			<shape class="Dimensionless" volume="1.0" />
			<solutes>
				<solute name="glucose" concentration="1.0" />
				<solute name="chlorine" concentration="0.02" />
			</solutes>
 			<reactions>
			    <reaction name="chlorineslowInflow">
					<expression value="1.0 * chlorineinflow">
						<constant name="chlorineinflow" value="0.04" />
					</expression>
					<stoichiometric component="glucose" coefficient="-1.0" />
					<stoichiometric component="chlorine" coefficient="-1.0" />
			    </reaction>
	    
				<reaction name="chlorineDecay2">
					<expression value="glucose * chlorine *k3 ">
					<!--  -->
						<constant name="k3" value="0.1" />
					</expression>
					<stoichiometric component="glucose" coefficient="-1.0" />
					<stoichiometric component="chlorine" coefficient="-0.5" />
				</reaction>
			</reactions>			
 			<agents>	
 			<agent>
             <aspect name="mass" type="PRIMARY" class="Double" value="0.2" />		
			 <aspect name="species" type="PRIMARY" class="String" value="Pathogen" />
 			</agent>									
			</agents>
			<processManagers>
				<process name="solveChemostat" class="SolveChemostat" priority="0"
					firstStep="0.0" >
					<aspect name="soluteNames" type="PRIMARY" class="String[]" value="glucose,chlorine" />
			
				</process>
			</processManagers>
			</compartment>
 </simulation>
</document>